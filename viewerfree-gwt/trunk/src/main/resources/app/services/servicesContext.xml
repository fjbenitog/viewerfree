<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN 2.0//EN"
		  "http://www.springframework.org/dtd/spring-beans-2.0.dtd">
<beans>
  	
  	<bean id="userDao" class="es.viewerfree.gwt.server.dao.impl.UserDao">
  		<property name="entityManagerFactory" ref="entityManagerFactory"/>
  	</bean>

	<bean id="service.user" class="es.viewerfree.gwt.server.service.impl.UserService">
		<property name="userDao" ref="userDao"/>
	</bean>
	
	<bean id="user" class="es.viewerfree.gwt.server.UserServiceImpl" scope="request">
		<property name="userService" ref="service.user"/>
	</bean>
	
	<bean id="viewer" class="es.viewerfree.gwt.server.ViewerServiceImpl" scope="request">
		<property name="userService" ref="service.user"/>
		<property name="albumManager" ref="albumManager"/>
		<property name="cachedPath"><value>${preview.path}</value></property>
		<property name="thumbnailCachedPath"><value>${thumbnail.path}</value></property>
	</bean>
	
</beans>